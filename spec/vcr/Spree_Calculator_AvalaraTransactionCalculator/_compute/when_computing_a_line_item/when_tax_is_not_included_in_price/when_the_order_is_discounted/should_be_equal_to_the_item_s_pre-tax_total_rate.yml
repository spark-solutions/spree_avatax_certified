---
http_interactions:
- request:
    method: post
    uri: https://development.avalara.net/1.0/tax/get
    body:
      encoding: UTF-8
      string: '{"DocCode":"R016844318","DocDate":"2018-05-27","Discount":"0.0","Commit":false,"DocType":"SalesOrder","Addresses":[{"AddressCode":"Orig","Line1":"9529
        Vernon Court","Line2":"","City":"New York","Region":"New York","PostalCode":"10027","Country":"United
        States"},{"AddressCode":"Dest","Line1":"9529 Vernon Court","Line2":"","City":"New
        York","Region":"New York","Country":"US","PostalCode":"10027"}],"Lines":[{"LineNo":"9-LI","Description":"Product
        #9 - 2002","TaxCode":"PC040000","ItemCode":"SKU-9","Qty":1,"Amount":10.0,"OriginCode":"Orig","DestinationCode":"Dest","CustomerUsageType":null,"Discounted":false,"TaxIncluded":false}],"CustomerCode":9,"CompanyCode":"test_company","CustomerUsageType":null,"ExemptionNo":null,"Client":"a0o33000004FH8l","ReferenceCode":"R016844318","DetailLevel":"Tax","CurrencyCode":"USD"}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Basic dGVzdF9hY2NvdW50OnRlc3RfbGljZW5zZV9rZXk=
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 27 May 2018 14:31:04 GMT
      Content-Type:
      - text/json; charset=utf-8
      Content-Length:
      - '712'
      Connection:
      - keep-alive
      Cache-Control:
      - private
      Vary:
      - Accept-Encoding
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Set-Cookie:
      - TS017f1821=01a8ddc44e1467dc79a389c4d5e0cddeda58e0e94287681318b48d9ea1507452e714274260ab29b725b9129e5a64d342a64dd79466;
        Path=/
    body:
      encoding: ASCII-8BIT
      string: |
        {
        "ResultCode": "Success",
        "DocCode": "R016844318",
        "DocDate": "2018-05-27",
        "Timestamp": "2018-05-27T14:31:04.3091082Z",
        "TotalAmount": "10",
        "TotalDiscount": "0",
        "TotalExemption": "0",
        "TotalTaxable": "10",
        "TotalTax": "0.89",
        "TotalTaxCalculated": "0.89",
        "TaxLines": [
        {
        "LineNo": "9-LI",
        "TaxCode": "PC040000",
        "Taxability": "true",
        "BoundaryLevel": "Zip5",
        "Exemption": "0",
        "Discount": "0",
        "Taxable": "10",
        "Rate": "0.088750",
        "Tax": "0.89",
        "TaxCalculated": "0.89",
        "TaxDetails": [
        {
        "Country": "US",
        "Region": "NY",
        "JurisType": "State",
        "JurisCode": "36",
        "Taxable": "10",
        "Rate": "0.040000",
        "Tax": "0.4",
        "JurisName": "NEW YORK",
        "TaxName": "NY STATE TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "City",
        "JurisCode": "51000",
        "Taxable": "10",
        "Rate": "0.045000",
        "Tax": "0.45",
        "JurisName": "NEW YORK CITY",
        "TaxName": "NY CITY TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "Special",
        "JurisCode": "359071",
        "Taxable": "10",
        "Rate": "0.003750",
        "Tax": "0.04",
        "JurisName": "METROPOLITAN COMMUTER TRANSPORTATION DISTRICT",
        "TaxName": "NY SPECIAL TAX"}
        ]
        }
        ]
        ,
        "TaxAddresses": [
        {
        "Address": "9529 Vernon Court",
        "AddressCode": "Dest",
        "City": "New York",
        "Country": "US",
        "PostalCode": "10027",
        "Region": "NY",
        "TaxRegionId": "2088629",
        "JurisCode": "3600051000"}
        ,{
        "Address": "9529 Vernon Court",
        "AddressCode": "Orig",
        "City": "New York",
        "Country": "US",
        "PostalCode": "10027",
        "Region": "NY",
        "TaxRegionId": "2088629",
        "JurisCode": "3600051000"}
        ]
        ,
        "TaxDate": "2018-05-27"}
    http_version: 
  recorded_at: Sun, 27 May 2018 14:31:16 GMT
- request:
    method: post
    uri: https://development.avalara.net/1.0/tax/get
    body:
      encoding: UTF-8
      string: '{"DocCode":"R016844318","DocDate":"2018-05-27","Discount":"0.0","Commit":false,"DocType":"SalesOrder","Addresses":[{"AddressCode":"Orig","Line1":"9529
        Vernon Court","Line2":"","City":"New York","Region":"New York","PostalCode":"10027","Country":"United
        States"},{"AddressCode":"Dest","Line1":"9529 Vernon Court","Line2":"","City":"New
        York","Region":"New York","Country":"US","PostalCode":"10027"},{"AddressCode":"18","Line1":"1600
        Pennsylvania Ave NW","Line2":null,"City":"Washington","PostalCode":"20500","Country":"US"}],"Lines":[{"LineNo":"9-LI","Description":"Product
        #9 - 2002","TaxCode":"PC040000","ItemCode":"SKU-9","Qty":1,"Amount":10.0,"OriginCode":"18","DestinationCode":"Dest","CustomerUsageType":null,"Discounted":false,"TaxIncluded":false},{"LineNo":"9-FR","ItemCode":"Avalara
        Ground","Qty":1,"Amount":100.0,"OriginCode":"18","DestinationCode":"Dest","CustomerUsageType":null,"Description":"Shipping
        Charge","TaxCode":"FR000000","Discounted":false,"TaxIncluded":false}],"CustomerCode":9,"CompanyCode":"test_company","CustomerUsageType":null,"ExemptionNo":null,"Client":"a0o33000004FH8l","ReferenceCode":"R016844318","DetailLevel":"Tax","CurrencyCode":"USD"}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Basic dGVzdF9hY2NvdW50OnRlc3RfbGljZW5zZV9rZXk=
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 27 May 2018 14:31:06 GMT
      Content-Type:
      - text/json; charset=utf-8
      Content-Length:
      - '882'
      Connection:
      - keep-alive
      Cache-Control:
      - private
      Vary:
      - Accept-Encoding
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Set-Cookie:
      - TS017f1821=01a8ddc44e4a36e950c896e07289b76804fc8c7406a8837f91431b7bf42c187004cc0da05b79ba078cdeba6f66e7c1d11b4a938aba;
        Path=/
    body:
      encoding: ASCII-8BIT
      string: |
        {
        "ResultCode": "Success",
        "DocCode": "R016844318",
        "DocDate": "2018-05-27",
        "Timestamp": "2018-05-27T14:31:06.1576019Z",
        "TotalAmount": "110",
        "TotalDiscount": "0",
        "TotalExemption": "0",
        "TotalTaxable": "110",
        "TotalTax": "9.77",
        "TotalTaxCalculated": "9.77",
        "TaxLines": [
        {
        "LineNo": "9-LI",
        "TaxCode": "PC040000",
        "Taxability": "true",
        "BoundaryLevel": "Zip5",
        "Exemption": "0",
        "Discount": "0",
        "Taxable": "10",
        "Rate": "0.088750",
        "Tax": "0.89",
        "TaxCalculated": "0.89",
        "TaxDetails": [
        {
        "Country": "US",
        "Region": "NY",
        "JurisType": "State",
        "JurisCode": "36",
        "Taxable": "10",
        "Rate": "0.040000",
        "Tax": "0.4",
        "JurisName": "NEW YORK",
        "TaxName": "NY STATE TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "City",
        "JurisCode": "51000",
        "Taxable": "10",
        "Rate": "0.045000",
        "Tax": "0.45",
        "JurisName": "NEW YORK CITY",
        "TaxName": "NY CITY TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "Special",
        "JurisCode": "359071",
        "Taxable": "10",
        "Rate": "0.003750",
        "Tax": "0.04",
        "JurisName": "METROPOLITAN COMMUTER TRANSPORTATION DISTRICT",
        "TaxName": "NY SPECIAL TAX"}
        ]
        }
        ,{
        "LineNo": "9-FR",
        "TaxCode": "FR000000",
        "Taxability": "true",
        "BoundaryLevel": "Zip5",
        "Exemption": "0",
        "Discount": "0",
        "Taxable": "100",
        "Rate": "0.088750",
        "Tax": "8.88",
        "TaxCalculated": "8.88",
        "TaxDetails": [
        {
        "Country": "US",
        "Region": "NY",
        "JurisType": "State",
        "JurisCode": "36",
        "Taxable": "100",
        "Rate": "0.040000",
        "Tax": "4",
        "JurisName": "NEW YORK",
        "TaxName": "NY STATE TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "City",
        "JurisCode": "51000",
        "Taxable": "100",
        "Rate": "0.045000",
        "Tax": "4.5",
        "JurisName": "NEW YORK CITY",
        "TaxName": "NY CITY TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "Special",
        "JurisCode": "359071",
        "Taxable": "100",
        "Rate": "0.003750",
        "Tax": "0.38",
        "JurisName": "METROPOLITAN COMMUTER TRANSPORTATION DISTRICT",
        "TaxName": "NY SPECIAL TAX"}
        ]
        }
        ]
        ,
        "TaxAddresses": [
        {
        "Address": "9529 Vernon Court",
        "AddressCode": "Dest",
        "City": "New York",
        "Country": "US",
        "PostalCode": "10027",
        "Region": "NY",
        "TaxRegionId": "2088629",
        "JurisCode": "3600051000"}
        ,{
        "Address": "1600 Pennsylvania Ave NW",
        "AddressCode": "18",
        "City": "Washington",
        "Country": "US",
        "PostalCode": "20500",
        "Region": "DC",
        "TaxRegionId": "949",
        "JurisCode": "1100000000"}
        ]
        ,
        "TaxDate": "2018-05-27"}
    http_version: 
  recorded_at: Sun, 27 May 2018 14:31:18 GMT
- request:
    method: post
    uri: https://development.avalara.net/1.0/tax/get
    body:
      encoding: UTF-8
      string: '{"DocCode":"R016844318","DocDate":"2018-05-27","Discount":"2.0","Commit":false,"DocType":"SalesOrder","Addresses":[{"AddressCode":"Orig","Line1":"9529
        Vernon Court","Line2":"","City":"New York","Region":"New York","PostalCode":"10027","Country":"United
        States"},{"AddressCode":"Dest","Line1":"9529 Vernon Court","Line2":"","City":"New
        York","Region":"New York","Country":"US","PostalCode":"10027"},{"AddressCode":"18","Line1":"1600
        Pennsylvania Ave NW","Line2":null,"City":"Washington","PostalCode":"20500","Country":"US"}],"Lines":[{"LineNo":"9-LI","Description":"Product
        #9 - 2002","TaxCode":"PC040000","ItemCode":"SKU-9","Qty":1,"Amount":10.0,"OriginCode":"18","DestinationCode":"Dest","CustomerUsageType":null,"Discounted":true,"TaxIncluded":false},{"LineNo":"9-FR","ItemCode":"Avalara
        Ground","Qty":1,"Amount":100.0,"OriginCode":"18","DestinationCode":"Dest","CustomerUsageType":null,"Description":"Shipping
        Charge","TaxCode":"FR000000","Discounted":false,"TaxIncluded":false}],"CustomerCode":9,"CompanyCode":"test_company","CustomerUsageType":null,"ExemptionNo":null,"Client":"a0o33000004FH8l","ReferenceCode":"R016844318","DetailLevel":"Tax","CurrencyCode":"USD"}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Basic dGVzdF9hY2NvdW50OnRlc3RfbGljZW5zZV9rZXk=
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 27 May 2018 14:31:07 GMT
      Content-Type:
      - text/json; charset=utf-8
      Content-Length:
      - '895'
      Connection:
      - keep-alive
      Cache-Control:
      - private
      Vary:
      - Accept-Encoding
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Set-Cookie:
      - TS017f1821=01a8ddc44e195f6f512812d1676b741fd46c1555bbb94e2a9e8691fb7a955ab89bfcdd7fa01d8cb23256fdf63e649acdc1ec74b2d9;
        Path=/
    body:
      encoding: ASCII-8BIT
      string: |
        {
        "ResultCode": "Success",
        "DocCode": "R016844318",
        "DocDate": "2018-05-27",
        "Timestamp": "2018-05-27T14:31:07.0779634Z",
        "TotalAmount": "110",
        "TotalDiscount": "2",
        "TotalExemption": "0",
        "TotalTaxable": "108",
        "TotalTax": "9.59",
        "TotalTaxCalculated": "9.59",
        "TaxLines": [
        {
        "LineNo": "9-LI",
        "TaxCode": "PC040000",
        "Taxability": "true",
        "BoundaryLevel": "Zip5",
        "Exemption": "0",
        "Discount": "2",
        "Taxable": "8",
        "Rate": "0.088750",
        "Tax": "0.71",
        "TaxCalculated": "0.71",
        "TaxDetails": [
        {
        "Country": "US",
        "Region": "NY",
        "JurisType": "State",
        "JurisCode": "36",
        "Taxable": "8",
        "Rate": "0.040000",
        "Tax": "0.32",
        "JurisName": "NEW YORK",
        "TaxName": "NY STATE TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "City",
        "JurisCode": "51000",
        "Taxable": "8",
        "Rate": "0.045000",
        "Tax": "0.36",
        "JurisName": "NEW YORK CITY",
        "TaxName": "NY CITY TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "Special",
        "JurisCode": "359071",
        "Taxable": "8",
        "Rate": "0.003750",
        "Tax": "0.03",
        "JurisName": "METROPOLITAN COMMUTER TRANSPORTATION DISTRICT",
        "TaxName": "NY SPECIAL TAX"}
        ]
        }
        ,{
        "LineNo": "9-FR",
        "TaxCode": "FR000000",
        "Taxability": "true",
        "BoundaryLevel": "Zip5",
        "Exemption": "0",
        "Discount": "0",
        "Taxable": "100",
        "Rate": "0.088750",
        "Tax": "8.88",
        "TaxCalculated": "8.88",
        "TaxDetails": [
        {
        "Country": "US",
        "Region": "NY",
        "JurisType": "State",
        "JurisCode": "36",
        "Taxable": "100",
        "Rate": "0.040000",
        "Tax": "4",
        "JurisName": "NEW YORK",
        "TaxName": "NY STATE TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "City",
        "JurisCode": "51000",
        "Taxable": "100",
        "Rate": "0.045000",
        "Tax": "4.5",
        "JurisName": "NEW YORK CITY",
        "TaxName": "NY CITY TAX"}
        ,{
        "Country": "US",
        "Region": "NY",
        "JurisType": "Special",
        "JurisCode": "359071",
        "Taxable": "100",
        "Rate": "0.003750",
        "Tax": "0.38",
        "JurisName": "METROPOLITAN COMMUTER TRANSPORTATION DISTRICT",
        "TaxName": "NY SPECIAL TAX"}
        ]
        }
        ]
        ,
        "TaxAddresses": [
        {
        "Address": "9529 Vernon Court",
        "AddressCode": "Dest",
        "City": "New York",
        "Country": "US",
        "PostalCode": "10027",
        "Region": "NY",
        "TaxRegionId": "2088629",
        "JurisCode": "3600051000"}
        ,{
        "Address": "1600 Pennsylvania Ave NW",
        "AddressCode": "18",
        "City": "Washington",
        "Country": "US",
        "PostalCode": "20500",
        "Region": "DC",
        "TaxRegionId": "949",
        "JurisCode": "1100000000"}
        ]
        ,
        "TaxDate": "2018-05-27"}
    http_version: 
  recorded_at: Sun, 27 May 2018 14:31:19 GMT
recorded_with: VCR 4.0.0
